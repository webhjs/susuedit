<template>
  <div class="bse-wrap">
    <div class="left-wrap">
      <el-button slot="append" icon="el-icon-download" @click="composeElement('moduleEle')">æ¨¡æ¿å…ƒç´ </el-button>
      <el-button slot="append" icon="el-icon-download" @click="composeElement('composeEle')">ç»„åˆå…ƒç´ </el-button>
      <el-button slot="append" icon="el-icon-download" @click="diagnoseElement">è¯Šæ–­å…ƒç´ </el-button>
      <el-button slot="append" icon="el-icon-download" @click="surgeryElement">æ‰‹æœ¯å…ƒç´ </el-button>
      <el-button slot="append" icon="el-icon-download" @click="validateRules">éªŒè¯æ•°æ®</el-button>
      <el-button slot="append" icon="el-icon-download" @click="inserXmlModule">æ’å…¥xml</el-button>
      <el-button slot="append" icon="el-icon-download" @click="getXmlorhtmlString">è·å–xmlæˆ–htmlå­—ç¬¦ä¸²</el-button>
      <el-button slot="append" icon="el-icon-download" @click="addTab">å¿«é€Ÿç”Ÿæˆç¼–è¾‘å™¨æµ‹è¯•</el-button>
      <el-button slot="append" icon="el-icon-download" @click="updateApiDate">æ›´æ–°æ•°æ®</el-button>
      <el-button slot="append" icon="el-icon-download" @click="getInnerContent">è·å–æ–‡æœ¬è¡Œå†…å†…å®¹</el-button>
      <el-button slot="append" icon="el-icon-download" @click="setContent">è®¾ç½®å†…å®¹ä¸ºç©º</el-button>
      <el-button slot="append" icon="el-icon-download" @click="getContent">è·å–å†…å®¹</el-button>
      <el-button slot="append" icon="el-icon-download" @click="getContentFocus">focusç¼–è¾‘å™¨åŒºåŸŸ</el-button>
      <el-radio-group v-model="mode" @change="switchEditorMode">
        <el-radio-button label="designMode">è®¾è®¡</el-radio-button>
        <el-radio-button label="editMode">ç¼–è¾‘</el-radio-button>
        <el-radio-button label="previewMode">é¢„è§ˆ</el-radio-button>
      </el-radio-group>
      <el-radio-group v-model="modePaper" @change="switchEditorModePaper">
        <el-radio-button label="A4">A4</el-radio-button>
        <el-radio-button label="A5">A5</el-radio-button>
        <el-radio-button label="A6">A6</el-radio-button>
      </el-radio-group>
      <div class="left-top">
        <ul>
          <li @click="handlerChangeSection"><i class="el-icon-message"></i> æ®µè½</li>
          <li @click="handlerChangeSection"><i class="el-icon-message"></i> æ®µè½1</li>
          <li @click="handlerChangeSection"><i class="el-icon-message"></i> æ®µè½2</li>
          <li @click="handlerChangeSection"><i class="el-icon-message"></i> æ®µè½3</li>
          <li @click="handlerChangeSection"><i class="el-icon-message"></i> æ®µè½4</li>
          <li @click="handlerChangeSection"><i class="el-icon-message"></i> æ®µè½5</li>
          <li @click="handlerChangeSection"><i class="el-icon-message"></i> æ®µè½6</li>
          <li @click="handlerChangeSection"><i class="el-icon-message"></i> æ®µè½7</li>
          <li @click="handlerChangeSection"><i class="el-icon-message"></i> æ®µè½8</li>
        </ul>
      </div>
    </div>
    <div class="center-wrap">
      <div :ref="`bseRef`" style="height: 800px;width: 500px;"></div>
    </div>
    <div class="right-wrap">
      <div class="right-top">
        <ul>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> ç»„åˆå…ƒç´ </li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> ç»„åˆå…ƒç´ 1</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> ç»„åˆå…ƒç´ 2</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> ç»„åˆå…ƒç´ 3</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> ç»„åˆå…ƒç´ 4</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> ç»„åˆå…ƒç´ 5</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> ç»„åˆå…ƒç´ 6</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> ç»„åˆå…ƒç´ 7</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> ç»„åˆå…ƒç´ 8</li>
        </ul>
      </div>
      <div class="right-bottom">
        <ul>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> æ¨¡æ¿å…ƒç´ </li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> æ¨¡æ¿å…ƒç´ 1</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> æ¨¡æ¿å…ƒç´ 2</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> æ¨¡æ¿å…ƒç´ 3</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> æ¨¡æ¿å…ƒç´ 4</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> æ¨¡æ¿å…ƒç´ 5</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> æ¨¡æ¿å…ƒç´ 6</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> æ¨¡æ¿å…ƒç´ 7</li>
          <li @click="handlerChangeModule"><i class="el-icon-message"></i> æ¨¡æ¿å…ƒç´ 8</li>
        </ul>
      </div>
    </div>
  </div>
</template>

<script>
import Bse from "./bse";
export default {
  data() {
    return {
      activeName: 'first',
      editableTabs: [],
      mode: 'previewMode',
      modePaper: 'A4'
    }
  },
  mounted() {
    const instance = (this._instance = new Bse.BSEedit({
      el: this.$refs.bseRef,
      height: '900px',
      toolbars: {
        // èœå•æ 
        // nav: [
        //   {
        //     name: 'file',
        //     title: 'æ–‡ä»¶',
        //     items: [{ name: 'æ‰“å¼€', title: 'æ‰“å¼€', disabled: true }]
        //   },
        //   {
        //     name: 'custom-menu',
        //     title: 'è‡ªå®šä¹‰èœå•',
        //     items: [
        //       {
        //         name: 'æ‰“å¼€',
        //         title: 'æ‰“å¼€',
        //         onClick: (name, editor) => {
        //           console.log(name, editor)
        //         }
        //       }
        //     ]
        //   },
        //   {
        //     name: 'element',
        //     title: 'å…ƒç´ ',
        //     items: [
        //       { name: 'insertPicture', title: 'å›¾ç‰‡' },
        //       { name: 'bseLabel', title: 'æ ‡ç­¾' },
        //       { name: 'bseInput', title: 'è¾“å…¥æ¡†' },
        //       { name: 'bseNumber', title: 'æ•°å­—' },
        //       { name: 'bseDate', title: 'æ—¥æœŸ' },
        //       { name: 'bseRadio', title: 'å•é€‰æ¡†' },
        //       { name: 'bseCheckBox', title: 'å¤šé€‰æ¡†' },
        //       { name: 'æ–‡æœ¬åŸŸ', title: 'æ–‡æœ¬åŸŸ', disabled: true },
        //       { name: 'æ¡å½¢ç ', title: 'æ¡å½¢ç ', disabled: true },
        //       { name: 'bseSelect', title: 'ä¸‹æ‹‰æ¡†' },
        //       { name: 'bseSplitline', title: 'åˆ†å‰²çº¿' },
        //       {
        //         name: 'medicalExpression',
        //         title: 'åŒ»å­¦è¡¨è¾¾å¼'
        //         // items: [
        //         //   { name: 'ç‰™é½¿æ ‡æ³¨', title: 'ç‰™é½¿æ ‡æ³¨', disabled: true },
        //         //   { name: 'æœˆç»å²', title: 'æœˆç»å²', disabled: true },
        //         //   { name: 'èƒå¿ƒä½ç½®', title: 'èƒå¿ƒä½ç½®', disabled: true },
        //         //   { name: 'ä¹³ç‰™æ ‡æ³¨', title: 'ä¹³ç‰™æ ‡æ³¨', disabled: true },
        //         //   { name: 'çªçœ¼', title: 'çªçœ¼', disabled: true },
        //         //   { name: 'å…‰å®šä½', title: 'å…‰å®šä½', disabled: true },
        //         //   { name: 'æˆ¿è§’', title: 'æˆ¿è§’', disabled: true },
        //         //   { name: 'è‚ºç»“æ ¸', title: 'è‚ºç»“æ ¸', disabled: true }
        //         // ]
        //       },
        //       { name: 'bseDiagnose', title: 'è¯Šæ–­æ§ä»¶' },
        //       { name: 'bseSurgery', title: 'æ‰‹æœ¯æ§ä»¶' },
        //       { name: 'bseSign', title: 'ç­¾åæ§ä»¶' },
        //       { name: 'bseBloodPressure', title: 'è¡€å‹æ§ä»¶' }
        //     ]
        //   },
        //   {
        //     name: 'test',
        //     title: 'æµ‹è¯•åŠŸèƒ½',
        //     items: [
        //       { name: 'testCopyHtml', title: 'ã€å¤åˆ¶ã€‘æ•´ä¸ªhtml' },
        //       { name: 'testExportWholeHtml', title: 'ã€å¯¼å‡ºã€‘æ•´ä¸ªhtml' },
        //       { name: 'testCopyContentHtml', title: 'ã€å¤åˆ¶ã€‘å†…å®¹html' },
        //       { name: 'testExportHtml', title: 'ã€å¯¼å‡ºã€‘å†…å®¹html' },
        //       // { name: 'testExportWholeTxt', title: 'å¯¼å‡ºæ•´ä¸ªtxt' },
        //       { name: 'testExportPageHeader', title: 'ã€å¯¼å‡ºã€‘é¡µçœ‰æ¨¡ç‰ˆ' },
        //       { name: 'testExportPageHeaderTxt', title: 'ã€å¯¼å‡ºã€‘å½“å‰é¡µçœ‰' },
        //       { name: 'testUploadPageHeader', title: 'ã€ä¸Šä¼ ã€‘é¡µçœ‰' },
        //       { name: 'testUploadPageWrap', title: 'ã€ä¸Šä¼ ã€‘æ•´ä¸ªhtml' },
        //       { name: 'testSetContentEmpty', title: 'ã€è®¾ç½®ã€‘å†…å®¹ä¸ºç©º' },
        //       {
        //         name: 'testMedicalRecord',
        //         title: 'ã€ç—…å†æ¨¡æ¿ã€‘ğŸ‰',
        //         items: [
        //           { name: 'testMedicalRecordTemplate', title: 'ICUå…¥é™¢æŠ¤ç†è¯„ä¼°å•.html' },
        //           { name: 'testMedicalRecordTemplate', title: 'å…¥é™¢è®°å½•.html' },
        //           { name: 'testMedicalRecordTemplate', title: 'å‡ºé™¢è®°å½•.html' },
        //           { name: 'testMedicalRecordTemplate', title: 'æˆäººè·Œå€’é£é™©è¡¨.html' },
        //           { name: 'testMedicalRecordTemplate', title: 'ç—”ç–®é£é™©è¯„åˆ†è¡¨.html' },
        //           { name: 'testMedicalRecordTemplate', title: 'ç—”ç–®é£é™©è¯„åˆ†è¡¨.html' },
        //           { name: 'testMedicalRecordTemplate', title: 'é¡¹ç›®è¡¨æ ¼1.html' },
        //           { name: 'testMedicalRecordTemplate', title: 'é¦–æ¬¡ç—…ç¨‹å½•-é¡µçœ‰.html' },
        //           { name: 'testMedicalRecordTemplate', title: '600é¡µå¡é¡¿æµ‹è¯•.html' }
        //         ]
        //       }
        //     ]
        //   }
        // ],
        // èœå•å›¾æ ‡
        // common: [
        //   {
        //     name: 'undo',
        //     title: 'æ’¤é”€',
        //     visible: true
        //   },
        //   {
        //     name: 'redo',
        //     title: 'æ¢å¤',
        //     visible: true
        //   },
        //   {
        //     name: 'paste',
        //     title: 'ç²˜è´´',
        //     visible: true
        //   },
        //   {
        //     name: 'copy',
        //     title: 'å¤åˆ¶',
        //     visible: true
        //   },
        //   {
        //     name: 'custom',
        //     icon: 'el-icon-edit',
        //     title: 'æ“ä½œ',
        //     visible: true,
        //     onClick: function (name, editor) {
        //       console.log(editor, name)
        //     }
        //   }
        // ]
      },
      contextMenus: [
        {
          label: 'ç»„å¥—',
          icon: 'el-icon-printer',
          onClick: () => {
            console.log('11111')
          },
          disable: true
        },
        {
          label: 'å¿«æ·ç»„å¥—',
          icon: 'el-icon-printer',
          onClick: (_, editor) => {
            console.log(editor)
          }
        }
      ],
      // è·å–è¡¨æ ¼æ•°æ® å¤–éƒ¨æ¥å£å®ç°
      getDynamicTable(callback, formInline) {
        console.log('åŠ¨æ€è¡¨å•', formInline)
        setTimeout(() => {
          callback({
            tablelist: [
              {
                bseTableName: 'æ€§åˆ«è¡¨'
              },
              {
                bseTableName: 'å¤‡æ³¨è¡¨'
              },
              {
                bseTableName: 'è®¡ç®—è¡¨'
              }
            ], // åŠ¨æ€è¡¨æ ¼æ•°æ®
            tableMapping: {
              è¡¨å: 'bseTableName'
            } // åŠ¨æ€è¡¨æ ¼æ˜ å°„
          })
        }, 2000)
      },
      // ç‚¹å‡»è¡¨æ ¼ å¤–éƒ¨æ¥å£å®ç°
      requestTable(callback, param) {
        console.log('ç‚¹å‡»è¡¨æ ¼', param)
        setTimeout(() => {
          callback({
            tablefieldlist: [
              {
                bseFieldName: 'ç”·'
              },
              {
                bseFieldName: 'å¥³'
              }
            ], // åŠ¨æ€è¡¨æ ¼æ•°æ®
            tablefieldMapping: {
              å­—æ®µå: 'bseFieldName'
            } // åŠ¨æ€è¡¨æ ¼æ˜ å°„
          })
        }, 2000)
      },
      // ç‚¹å‡»å­—æ®µ å¤–éƒ¨æ¥å£å®ç°
      requestTableField(callback, param) {
        console.log('ç‚¹å‡»å­—æ®µ', param)
        setTimeout(() => {
          callback([
            {
              value: 'ç”·'
            },
            {
              value: 'å¥³'
            }
          ])
        }, 2000)
      },
      /* è¯Šæ–­æ¥å£å®šä¹‰ */
      // è·å–è¯Šæ–­è¡¨å•å­—æ®µ
      requestDiagnoseField(callback, param, formInline) {
        console.log('ç‚¹å‡»å­—æ®µ', param, formInline, this.activeName)
        setTimeout(() => {
          callback([
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            },
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            }
          ])
        }, 2000)
      },
      // è·å–å†å²è¯Šæ–­
      requestDiagnosHistroyTable(callback, formInline) {
        console.log('ç‚¹å‡»å­—æ®µ', formInline)
        setTimeout(() => {
          callback([
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            }
          ])
        }, 2000)
      },
      // è·å–è¯Šæ–­æ‹–æ‹½è¡¨æ ¼
      requestDiagnosTreeTable(callback, formInline) {
        console.log('ç‚¹å‡»å­—æ®µ', formInline)
        setTimeout(() => {
          callback([
            // å¿…é¡»çº¯åœ¨å”¯ä¸€id å’Œ children å’Œ parentId
            {
              id: 1,
              parentId: 0,
              bse_type: 'ä¸­åŒ»è¯Šæ–­',
              bse_categery: 'å…¥é™¢è¯Šæ–­',
              bse_disease_name: 'è‚¾è™š',
              bse_disease_name_desc: 'ç—…æè¿°',
              bse_symptom_name: 'ç—‡å',
              bse_symptom_name_desc: 'ç—‡æè¿°',
              bse_diagnose_name: '',
              bse_diagnose_name_desc: '',
              children: [
                {
                  id: 11,
                  parentId: 1,
                  bse_type: 'ä¸­åŒ»è¯Šæ–­',
                  bse_categery: 'å…¥é™¢è¯Šæ–­',
                  bse_disease_name: 'å­ç—…',
                  bse_disease_name_desc: 'ç—…æè¿°',
                  bse_symptom_name: 'ä¸€æœŸç—‡å',
                  bse_symptom_name_desc: 'ç—‡æè¿°',
                  bse_diagnose_name: '',
                  bse_diagnose_name_desc: '',
                  children: [
                    {
                      id: 111,
                      parentId: 11,
                      bse_type: 'ä¸­åŒ»è¯Šæ–­',
                      bse_categery: 'å…¥é™¢è¯Šæ–­',
                      bse_disease_name: 'å­å­ç—…',
                      bse_disease_name_desc: 'ç—…æè¿°',
                      bse_symptom_name: 'äºŒæœŸç—‡å',
                      bse_symptom_name_desc: 'ç—‡æè¿°',
                      bse_diagnose_name: '',
                      bse_diagnose_name_desc: ''
                    }
                  ]
                }
              ]
            },
            {
              id: 2,
              parentId: 0,
              bse_type: 'ä¸­åŒ»è¯Šæ–­',
              bse_categery: 'å…¥é™¢è¯Šæ–­',
              bse_disease_name: 'å·¨å”‡',
              bse_disease_name_desc: 'ç—…æè¿°',
              bse_symptom_name: 'ç—‡å',
              bse_symptom_name_desc: 'ç—‡æè¿°',
              bse_diagnose_name: '',
              bse_diagnose_name_desc: ''
            },
            {
              id: 3,
              parentId: 0,
              bse_type: 'è¥¿åŒ»è¯Šæ–­',
              bse_categery: 'å‡ºé™¢è¯Šæ–­',
              bse_disease_name: '',
              bse_disease_name_desc: '',
              bse_symptom_name: '',
              bse_symptom_name_desc: '',
              bse_diagnose_name: 'è¥¿åŒ»è¯Šæ–­',
              bse_diagnose_name_desc: 'è¥¿åŒ»è¯Šæ–­æè¿°',
              children: [
                {
                  id: 31,
                  parentId: 3,
                  bse_type: 'è¥¿åŒ»è¯Šæ–­',
                  bse_categery: 'å‡ºé™¢è¯Šæ–­',
                  bse_disease_name: 'ä¸é€‚',
                  bse_disease_name_desc: '',
                  bse_symptom_name: '',
                  bse_symptom_name_desc: '',
                  bse_diagnose_name: 'è¥¿åŒ»è¯Šæ–­',
                  bse_diagnose_name_desc: 'è¥¿åŒ»è¯Šæ–­æè¿°',
                  children: [
                    {
                      id: 333,
                      parentId: 31,
                      bse_type: 'è¥¿åŒ»è¯Šæ–­',
                      bse_categery: 'å‡ºé™¢è¯Šæ–­',
                      bse_disease_name: 'å—œç¡',
                      bse_disease_name_desc: '',
                      bse_symptom_name: '',
                      bse_symptom_name_desc: '',
                      bse_diagnose_name: 'è¥¿åŒ»è¯Šæ–­',
                      bse_diagnose_name_desc: 'è¥¿åŒ»è¯Šæ–­æè¿°'
                    }
                  ]
                },
                {
                  id: 32,
                  parentId: 3,
                  bse_type: 'è¥¿åŒ»è¯Šæ–­',
                  bse_categery: 'å‡ºé™¢è¯Šæ–­',
                  bse_disease_name: '',
                  bse_disease_name_desc: '',
                  bse_symptom_name: '',
                  bse_symptom_name_desc: '',
                  bse_diagnose_name: 'è¥¿åŒ»è¯Šæ–­',
                  bse_diagnose_name_desc: 'è¥¿åŒ»è¯Šæ–­æè¿°'
                }
              ]
            },
            {
              id: 4,
              parentId: 0,
              bse_type: 'è¥¿åŒ»è¯Šæ–­',
              bse_categery: 'ä¸´åºŠè¯Šæ–­',
              bse_disease_name: '',
              bse_disease_name_desc: '',
              bse_symptom_name: '',
              bse_symptom_name_desc: '',
              bse_diagnose_name: 'è¥¿åŒ»è¯Šæ–­',
              bse_diagnose_name_desc: 'è¥¿åŒ»è¯Šæ–­æè¿°'
            }
          ])
        }, 2000)
      },
      // è·å–å¸¸ç”¨è¯Šæ–­
      requestDiagnosCommonlyTable(callback, formInline) {
        console.log('ç‚¹å‡»å­—æ®µ', formInline)
        setTimeout(() => {
          callback([
            {
              code: '1',
              name: 'ä¸ªäººå¸¸ç”¨è¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­',
              children: [
                {
                  code: '1.1',
                  name: 'é—¨è¯Šè¯Šæ–­',
                  memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
                }
              ]
            },
            {
              code: '2',
              name: 'ç§‘å®¤å¸¸ç”¨è¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­',
              children: [
                {
                  code: '2.1',
                  name: 'ç§‘å®¤å¸¸ç”¨é—¨è¯Šè¯Šæ–­',
                  memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
                }
              ]
            }
          ])
        }, 2000)
      },
      // è·å–å¸¸ç”¨å­è¯Šæ–­åˆ†ç±»
      requestDiagnosTableChildren(callback, formInline) {
        console.log('ç‚¹å‡»å­—æ®µ', formInline)
        setTimeout(() => {
          callback([
            {
              code: 'ç±»å‹',
              name: 'åˆ†ç±»',
              memo: 'å¤‡æ³¨'
            }
          ])
        }, 2000)
      },
      /* è¯Šæ–­æ¥å£å®šä¹‰ */
      /* æ‰‹æœ¯æ¥å£å®šä¹‰ */
      requestSurgeryTreeTable(callback, formInline) {
        console.log('ç‚¹å‡»å­—æ®µ', formInline)
        setTimeout(() => {
          callback([
            {
              type: 'ç±»å‹',
              code: 'æ‰‹æœ¯ç¼–ç ',
              name: 'æ‰‹æœ¯åç§°',
              surgeryLevel: 'æ‰‹æœ¯ç­‰çº§',
              anesthesia: 'éº»é†‰æ–¹æ³•'
            }
          ])
        }, 2000)
      },
      requestSurgeryField(callback, param, formInline) {
        console.log('ç‚¹å‡»å­—æ®µ', param, formInline)
        setTimeout(() => {
          callback([
            {
              code: '1',
              name: 'é—¨è¯Šè¯Šæ–­',
              memo: 'ä¸´åºŠåˆæ­¥è¯Šæ–­'
            }
          ])
        })
      }
      /* æ‰‹æœ¯æ¥å£å®šä¹‰ */
    }))
    /* è¯Šæ–­æ¥å£å®šä¹‰ */
    // æŸ¥è¯¢è¯Šæ–­
    instance.addListener('serachDiagnose', (payload, callback) => {
      console.log(payload)
      setTimeout(() => {
        callback(
          {
            status: 200,
            data: [],
            msg: 'æŸ¥è¯¢è¯Šæ–­æˆåŠŸ'
          },
          2000
        )
      })
    })
    // è®¾ä¸ºå¸¸ç”¨è¯Šæ–­
    instance.addListener('setCommonlyDiagnose', (payload, callback) => {
      console.log(payload)
      setTimeout(() => {
        callback({
          status: 200,
          data: [],
          msg: 'è®¾ç½®å¸¸ç”¨è¯Šæ–­æˆåŠŸ'
        })
      }, 2000)
    })
    // ä¿å­˜è¯Šæ–­
    instance.addListener('saveDiagnoseList', (payload, callback) => {
      console.log('ä¿å­˜è¯Šæ–­', payload)
      setTimeout(() => {
        callback({
          status: 200,
          data: [],
          msg: 'ä¿å­˜è¯Šæ–­åˆ—è¡¨æˆåŠŸ'
        })
      }, 2000)
    })
    /* è¯Šæ–­æ¥å£å®šä¹‰ */
    /* æ‰‹æœ¯æ¥å£å®šä¹‰ */
    // è®¾ä¸ºå¸¸ç”¨æ‰‹æœ¯
    instance.addListener('setCommonlySurgery', (payload, callback) => {
      console.log(payload)
      setTimeout(() => {
        callback({
          status: 200,
          data: [],
          msg: 'è®¾ç½®å¸¸ç”¨è¯Šæ–­æˆåŠŸ'
        })
      }, 2000)
    })
    /* æ‰‹æœ¯æ¥å£å®šä¹‰ */
  },
  methods: {
    setContent() {
      this._instance.setContent('<dnf bse="%7B%22module%22%3A%22composeEle%22%2C%22name%22%3A%22333%22%2C%22id%22%3A%22333%22%7D" class="bse-element"><span class="bse-element" bse-left="" bse-right="" style="font-weight: bold" bse="%7B%22notallowdelete%22%3Atrue%2C%22contenteditable%22%3Afalse%2C%22type%22%3A%22label%22%2C%22name%22%3A%22111%22%2C%22id%22%3A%221111%22%2C%22placeholder%22%3A%221111%22%2C%22value%22%3A%2211111%22%7D" contenteditable="false"><label contenteditable="true" class="placehold-class" placeholder="1111">11111</label></span>â€‹<span class="bse-element" bse-left="[" bse-right="]" bse="%7B%22forceUpdateWay%22%3A%22%22%2C%22type%22%3A%22input%22%2C%22name%22%3A%22222%22%2C%22id%22%3A%22222%22%2C%22value%22%3A%222222%22%7D" contenteditable="false"><label contenteditable="true" class="placehold-class" placeholder="">2222</label></span>â€‹</dnf>')
    },
    getContent() {
      this._tempHtml = this._instance.getContent()
    },
    getContentFocus() {
      this._instance.getEditorAreaFocus()
    },
    // è·å–æ–‡æœ¬å†…å®¹
    getInnerContent() {
      console.log(this._instance.getContent())
    },

    addTab() {
      this.editableTabs.push({
        title: 'New Tab',
        content: 'New Tab content'
      })
    },

    handlerChangeModule() {
      
    },

    // ç»„åˆå…ƒç´ å¼¹çª—
    composeElement(module = 'moduleEle') {
      /**
       * ç»„åˆå…ƒç´ å¼¹æ¡†
       * @param {String} äº‹ä»¶å
       * @param {Object} å‚æ•°
       * @param {Boolean} dialogç¡®è®¤å›è°ƒå‡½æ•°
       */
      this._instance.execCommand('composeelementdialog', { module }, (payload, formInline) => {
        const download_html = fileName => {
          const pom = document.createElement('a')
          pom.setAttribute('href', 'data:html/plain;charset=utf-8,' + encodeURIComponent(payload))
          pom.setAttribute('download', fileName + '.html')
          if (document.createEvent) {
            const event = document.createEvent('MouseEvents')
            event.initEvent('click', true, true)
            pom.dispatchEvent(event)
          } else {
            pom.click()
          }
        }
        download_html(formInline.name)
      })
    },

    // å¤–éƒ¨è°ƒç”¨è¯Šæ–­æ§ä»¶
    diagnoseElement() {
      this._instance.execCommand(
        'diagnoseelementdialog',
        {
          attr: {
            type: 'diagnose',
            bse_multipleSelection: [
              {
                id: 333,
                parentId: 31,
                bse_code: 1,
                bse_type: 'è¥¿åŒ»è¯Šæ–­',
                bse_categery: 'å‡ºé™¢è¯Šæ–­',
                bse_diagnose_name: 'è¯Šæ–­',
                bse_diagnose_name_desc: 'è¯Šæ–­æè¿°',
                bse_disease_name: 'å—œç¡',
                bse_disease_name_desc: 'ç—…æè¿°',
                bse_symptom_name: '',
                bse_symptom_name_desc: 'ç—‡æè¿°',
                level: 3,
                order: 0,
                _path: '0/0/0'
              }
            ]
          }
        },
        payload => {
          console.log(payload)
        }
      )
    },

    // å¤–éƒ¨è°ƒç”¨æ‰‹æœ¯æ§ä»¶
    surgeryElement() {
      this._instance.execCommand(
        'surgeryelementdialog',
        {
          attr: {
            type: 'surgery',
            bse_surgeryList: [
              {
                type: 'ç±»å‹',
                anesthesia: 'éº»é†‰æ–¹æ³•',
                code: 'æ‰‹æœ¯ç¼–ç ',
                name: 'æ‰‹æœ¯åç§°',
                surgeryLevel: 'æ‰‹æœ¯ç­‰çº§',
                id: 'bse_0',
                date: '2022-07-06'
              }
            ]
          }
        },
        payload => {
          console.log(payload)
        }
      )
    },

    // éªŒè¯æ•°æ®
    validateRules() {
      this._instance.execCommand('validaterules', payload => {
        console.log(payload)
      })
    },

    // æ’å…¥å†…å®¹
    inserXmlModule() {
      const strings = `<?xml version="1.0" encoding="UTF-8"?><data version="4.0"><bloodPressure_0001><name>é«˜è¡€å‹</name><id>0001</id><leftPlaceholder>è¾“å…¥</leftPlaceholder><rightPlaceholder></rightPlaceholder></bloodPressure_0001><select_001><bse_card>axios</bse_card><bse_json_request><bseTableObj></bseTableObj><bseFieldObj></bseFieldObj></bse_json_request><name>åå­—</name><id>001</id><placeholder>23424</placeholder><groupName>å­¦ç”Ÿè€ƒè¯•</groupName><disabledExpression>002=å¥³</disabledExpression></select_001><radio_002><bse_card>fixed</bse_card><bse_json_request><bseTableObj></bseTableObj><bseFieldObj></bseFieldObj></bse_json_request><name>æ€§åˆ«</name><value>å¥³</value><bse_options><value>ç”·</value></bse_options><bse_options><value>å¥³</value></bse_options><id>002</id><groupName>å­¦ç”Ÿè€ƒè¯•</groupName></radio_002><select_ç²¾ç¥çŠ¶æ€><bse_card>fixed</bse_card><bse_json_request><bseTableObj></bseTableObj><bseFieldObj></bseFieldObj></bse_json_request><name>ç²¾ç¥çŠ¶æ€</name><id>ç²¾ç¥çŠ¶æ€</id><placeholder>ç²¾ç¥çŠ¶æ€</placeholder><value></value><bse_options><value>äº†è§£è‡ªå·±èƒ½åŠ›</value></bse_options><bse_options><value>å¿˜è®°è‡ªå·±é™åˆ¶</value></bse_options><groupName>æˆäººè·Œå€’é£é™©</groupName><settleExpression>äº†è§£è‡ªå·±èƒ½åŠ›=0,å¿˜è®°è‡ªå·±é™åˆ¶=15</settleExpression></select_ç²¾ç¥çŠ¶æ€><input_æ‚£è€…è·Œå€’é£é™©><name>æ‚£è€…è·Œå€’é£é™©</name><id>æ‚£è€…è·Œå€’é£é™©</id><altTitle></altTitle><groupName>æˆäººè·Œå€’é£é™©</groupName><settleExpression>æ‚£è€…æ›¾è·Œå€’+è¶…è¿‡ä¸€ä¸ªåŒ»å­¦è¯Šæ–­+ä½¿ç”¨åŠ©è¡Œå™¨å…·+é™è„‰è¾“æ¶²+æ­¥æ€+ç²¾ç¥çŠ¶æ€+åˆ†</settleExpression><placeholder>æ‚£è€…è·Œå€’é£é™©</placeholder></input_æ‚£è€…è·Œå€’é£é™©>
		<html>
			<p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="g0dLlOPZaznYifhZ"><br data-cache-id="12f0531c-d488-40ae-b4bc-ba8ea9e0bc4d"></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="EB925dKuK-joM-J9"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc">æˆäººè·Œå€’é£é™©è¯„ä¼°é‡è¡¨(Morseé‡è¡¨)</strong></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="NxOgJT6Zpua4a6bu"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc"><br></strong></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="yPMbPT9cxrlokE2X"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc"><br></strong></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="ueuYpE05GvASWw2T"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc"><br><span class="bse-element validateFaild" bse-left="[" bse-right="]" bse="%7B%22type%22%3A%22bloodPressure%22%2C%22name%22%3A%22%E9%AB%98%E8%A1%80%E5%8E%8B%22%2C%22id%22%3A%220001%22%2C%22leftPlaceholder%22%3A%22%E8%BE%93%E5%85%A5%22%2C%22rightPlaceholder%22%3A%22%22%7D" contenteditable="false"><label contenteditable="true" id="extensional0001" class="placehold-class" placeholder="è¾“å…¥"></label>/<label contenteditable="true" id="diastolic0001" class="placehold-class" placeholder=""></label></span>â€‹</strong></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="i0BT2wOPqKGf7AMx"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc"><br></strong></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="A4MPM7x8OoORDnN0"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc"><br></strong></p><table id="bcrlxnxvvc773348" class="bse-table" cellspacing="1" style="width: 100%;" _="tH_yVwrlUqHEpk0c" data-resize-id="d0OGuwvO"><colgroup><col style="width: 11.1112%;"><col style="width: 11.1111%"><col style="width: 11.1111%"><col style="width: 11.1111%"><col style="width: 11.1111%"><col style="width: 11.1111%"><col style="width: 11.1111%"><col style="width: 11.1111%"><col style="width: 11.1111%"></colgroup><tbody><tr><td colspan="1" rowspan="2" _="fVS4WdHFlGyyTqle" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="8f9CdmU2rP1INk2T" style="border: 1px dashed rgb(204, 204, 204); height: 29px;"><p><br></p></td><td colspan="1" rowspan="1" _="0nvDs9iq0XBrhOTH" style="border: 1px dashed rgb(204, 204, 204); height: 29px;"><p><br></p></td><td colspan="1" rowspan="1" _="NUw8ToDPm3F0hbwF" style="border: 1px dashed rgb(204, 204, 204); height: 29px;"><p><br></p></td><td colspan="1" rowspan="1" _="nK24SsdKSL_EAlcx" style="border: 1px dashed rgb(204, 204, 204); height: 29px;"><p><br></p></td><td colspan="1" rowspan="1" _="zYRLVcKzghts4XjF" style="border: 1px dashed rgb(204, 204, 204); height: 29px;"><p><br></p></td><td colspan="1" rowspan="1" _="Kucl0_jD3LVA8DGO" style="border: 1px dashed rgb(204, 204, 204); height: 29px;"><p><br></p></td><td colspan="1" rowspan="1" _="qezurniOAfw1j2lA" style="border: 1px dashed rgb(204, 204, 204); height: 29px;"><p><br></p></td><td colspan="1" rowspan="1" _="mSJwMPLtBRy3gmKQ" style="border: 1px dashed rgb(204, 204, 204); height: 29px;"><p><br></p></td></tr><tr><td colspan="1" rowspan="1" _="W5jDbwRwBaHz0tzC" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="dhdQIamIZFGfgRPr" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="p0TPonI2WmpDne-9" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="AgckKJPopHpCffPW" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="Me2-G5tfwi4JpLwo" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="lEpHAmB0Xlvd-T7n" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="vctGGMwjP7uRNBD-" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="x1wF5P00qzMJxA93" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td></tr><tr><td colspan="1" rowspan="1" _="7ZGrnaPr3q53XUtU" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="7Zs56alPbpt9kUpo" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="V0VAaUzKRkjod8O1" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="s6B2kGS9cUV1LiD1" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="Q2fZPXY0m6UIXhc0" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="Fzqh86fC-Fhym_Ky" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="FtUKt19AtMSDGSs6" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="XvMZfemyvUp7R6mV" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="Flky1yK2G05VWobQ" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td></tr><tr><td colspan="1" rowspan="1" _="syy51qZAKCKsanph" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="NOytZvUEr2z__fkj" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="8H3bL2klAwMY56Sq" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="Juz-uEXm5EPiVMwo" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="iy694Xsa6dGE3ri1" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="zdr0Q2CwZ86oyR2F" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="uepk9d8Wd_yRpKt6" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="Cczt9PXjlvpcqkVz" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td><td colspan="1" rowspan="1" _="magepA_JnQuWke2E" style="border: 1px dashed rgb(204, 204, 204);"><p><br></p></td></tr></tbody></table><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="A4MPM7x8OoORDnN0"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc">â€‹</strong></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="KOksb6uzbXV1ClJb"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc"><br></strong></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="Z7U0z3HujCgLMz29"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc"><br></strong></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="0Kibg8uvUvHQ_jt1"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc"><br></strong></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="M81jgdVBAgBF8LmL"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc"><br></strong></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="7uTwl95SLu9Rmzyi"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc"><br><span class="bse-element disabled" bse-left="[" bse-right="]" bse="%7B%22bse_card%22%3A%22axios%22%2C%22bse_json_request%22%3A%7B%22bseTableObj%22%3A%7B%7D%2C%22bseFieldObj%22%3A%7B%7D%7D%2C%22type%22%3A%22select%22%2C%22name%22%3A%22%E5%90%8D%E5%AD%97%22%2C%22id%22%3A%22001%22%2C%22placeholder%22%3A%2223424%22%2C%22groupName%22%3A%22%E5%AD%A6%E7%94%9F%E8%80%83%E8%AF%95%22%2C%22disabledExpression%22%3A%22002%3D%E5%A5%B3%22%7D" contenteditable="false"><label contenteditable="false" class="placehold-class" placeholder="23424"></label></span>â€‹<span class="bse-element" bse-left="[" bse-right="]" bse="%7B%22bse_card%22%3A%22fixed%22%2C%22bse_json_request%22%3A%7B%22bseTableObj%22%3A%7B%7D%2C%22bseFieldObj%22%3A%7B%7D%7D%2C%22type%22%3A%22radio%22%2C%22name%22%3A%22%E6%80%A7%E5%88%AB%22%2C%22value%22%3A%22%E5%A5%B3%22%2C%22bse_options%22%3A%5B%7B%22value%22%3A%22%E7%94%B7%22%7D%2C%7B%22value%22%3A%22%E5%A5%B3%22%7D%5D%2C%22id%22%3A%22002%22%2C%22groupName%22%3A%22%E5%AD%A6%E7%94%9F%E8%80%83%E8%AF%95%22%7D" contenteditable="false"><input type="radio" id="undefinedç”·" value="ç”·" name="æ€§åˆ«" contenteditable="false"><label for="undefinedç”·" contenteditable="false">ç”·</label><input type="radio" id="undefinedå¥³" value="å¥³" name="æ€§åˆ«" contenteditable="false" checked=""><label for="undefinedå¥³" contenteditable="false">å¥³</label>â€‹â®</span>â€‹</strong></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="W2J3hEBdzDwPbOmc"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc"><br></strong></p><p data-cache-id="9e4f6cdf-82bb-4430-89fa-3cbe3f608c19" _="UwzIBmc8WyxYvb3Q"><strong data-cache-id="f99a1da5-791f-4899-965a-c11052da6dfd" _="Vod6Ms0H1BsGJIvc"><br></strong></p><table id="bs0z1uov023s92304" class="bse-table" cellspacing="1" data-cache-id="3e160eb5-a2df-467d-b5cc-1b6aab628c74" _="7ivYUuLZa9c9sXbl" data-resize-id="eAEcJpdY" bse_selected="master" style="width: 100%;"><colgroup _="UitAaEGkjD-PwvAc"><col style="width: 20.2346%;"><col style="width: 48.0939%;"><col style="width: 31.6715%;"></colgroup><tbody _="BcRUUTMM-qxpAT3-"><tr data-cache-id="9c66b21e-1147-47ac-a9f2-3275568a0d3c" _="Y1ZwBprJ3LRIaKJb"><td colspan="1" rowspan="1" style="border: 1px dashed rgb(204, 204, 204); word-break: break-all; vertical-align: middle;" data-cache-id="6ea72c20-faed-422c-835f-c0ac417b43b2" valign="middle" align="center" _="7RC5NELhoYuV-sqx" data-old-row-span="3"><p><br></p></td><td colspan="1" rowspan="1" style="border: 1px dashed rgb(204, 204, 204); word-break: break-all; height: 42px; vertical-align: middle;" data-cache-id="1b216996-d3c0-4a2e-a9d9-670da90f4aa4" valign="middle" align="center" _="2tM_ownYiDDor2va"><p data-cache-id="3539d86c-eec8-4813-af48-e1189557efdd" _="Gc9lU_f6LbTlXz-z">å¤±è°ƒåŠä¸å¹³è¡¡&nbsp; &nbsp;20åˆ†â€‹</p></td><td colspan="1" rowspan="1" style="border: 1px dashed rgb(204, 204, 204); word-break: break-all; vertical-align: middle;" data-cache-id="6ae50f37-1785-4b88-9eb9-4512300368f5" valign="middle" align="center" _="NYTXR6DLasDkk7jr" data-old-row-span="3"><p><br></p></td></tr><tr data-cache-id="fee2ee9c-9a0f-4c86-8435-438bbb835e10" _="wTmx2jEkd9UsXu6U"><td colspan="1" rowspan="3" style="border: 1px dashed rgb(204, 204, 204); word-break: break-all; vertical-align: middle;" valign="middle" align="center" data-cache-id="96c45350-4977-4a77-9b49-02daeedac215" _="g538Ns_pU-kISi2N" data-old-row-span="2"><p><br></p><p _="C937NkDfzz5b7xjH"><br></p><p data-cache-id="42544638-3d9b-4f9e-a856-221a2a002310" _="709eW9Y3NfIgmg2i">ç²¾ç¥çŠ¶æ€</p></td><td colspan="1" rowspan="1" style="border: 1px dashed rgb(204, 204, 204); word-break: break-all; vertical-align: middle; height: 41.75px;" data-cache-id="fe760865-7efb-4ee3-b8f8-e782af45a5e9" valign="middle" align="center" _="9iMdLSd-VEVMnXtT"><p data-cache-id="515cd84d-4d2d-4ad0-b566-202bead139c0" _="_45GDvjb6DgrWWry">äº†è§£è‡ªå·±èƒ½åŠ›&nbsp; &nbsp;0åˆ†â€‹</p></td><td colspan="1" rowspan="3" style="border: 1px dashed rgb(204, 204, 204); word-break: break-all; vertical-align: middle;" valign="middle" align="center" data-cache-id="9985a7aa-44d4-4a10-9feb-448feb62ca26" _="JdjL2oAZssp5bUBn" data-old-row-span="2"><p><br></p><p _="YKpp0_xoS8bjs4Gu"><br></p><p data-cache-id="b543ffd9-8977-4636-9816-a930b95b1134" _="tDFua9tg6Jiz2GES"><span class="bse-element" bse-left="[" bse-right="]" bse="%7B%22bse_card%22%3A%22fixed%22%2C%22bse_json_request%22%3A%7B%22bseTableObj%22%3A%7B%7D%2C%22bseFieldObj%22%3A%7B%7D%7D%2C%22type%22%3A%22select%22%2C%22name%22%3A%22%E7%B2%BE%E7%A5%9E%E7%8A%B6%E6%80%81%22%2C%22id%22%3A%22%E7%B2%BE%E7%A5%9E%E7%8A%B6%E6%80%81%22%2C%22placeholder%22%3A%22%E7%B2%BE%E7%A5%9E%E7%8A%B6%E6%80%81%22%2C%22value%22%3A%22%22%2C%22bse_options%22%3A%5B%7B%22value%22%3A%22%E4%BA%86%E8%A7%A3%E8%87%AA%E5%B7%B1%E8%83%BD%E5%8A%9B%22%7D%2C%7B%22value%22%3A%22%E5%BF%98%E8%AE%B0%E8%87%AA%E5%B7%B1%E9%99%90%E5%88%B6%22%7D%5D%2C%22groupName%22%3A%22%E6%88%90%E4%BA%BA%E8%B7%8C%E5%80%92%E9%A3%8E%E9%99%A9%22%2C%22settleExpression%22%3A%22%E4%BA%86%E8%A7%A3%E8%87%AA%E5%B7%B1%E8%83%BD%E5%8A%9B%3D0%2C%E5%BF%98%E8%AE%B0%E8%87%AA%E5%B7%B1%E9%99%90%E5%88%B6%3D15%22%7D" contenteditable="false" data-cache-id="35e08492-f7dc-4ea9-a1ae-898e7656802e" _="9hBdI8C8epXzWiYB"><label contenteditable="false" class="placehold-class" placeholder="ç²¾ç¥çŠ¶æ€" data-cache-id="57a7d73c-9ad0-4400-bfea-760aa6874905" _="MZ4zYqgtgSoUN24C"></label></span>â€‹</p></td></tr><tr data-cache-id="b2be7c60-afa0-418c-9633-37a5b48b4545" _="HgXQhp23DSP9mWUW"><td colspan="1" rowspan="1" style="border: 1px dashed rgb(204, 204, 204); word-break: break-all; vertical-align: middle; height: 40.9688px;" data-cache-id="28ea5a3b-a9c5-4f9b-9681-eef07d3eab88" valign="middle" align="center" _="MVHDYV_nHSzSnwDD"><p data-cache-id="bb22cb40-7387-4253-aa24-1bd457d2df9c" _="_IdQTMj7II4ZPsRD">å¿˜è®°è‡ªå·±é™åˆ¶&nbsp; &nbsp;15åˆ†â€‹</p></td></tr><tr data-cache-id="1bc1301e-3667-4573-ae53-c59374a71816" _="JncoV4AynsmVEAjJ"><td colspan="1" rowspan="1" style="border: 1px dashed rgb(204, 204, 204); word-break: break-all; vertical-align: middle; height: 30.5px;" data-cache-id="6689663b-b1b7-42b6-a93f-b1a9394b6f31" valign="middle" align="center" _="N8Zgtk0YapsCbqM_"><p data-cache-id="b80491cb-4762-4fa7-8284-4ebecdda0855" _="1lgcLtncRs4XUvC-">æ€»åˆ†</p></td><td colspan="2" rowspan="1" style="border: 1px dashed rgb(204, 204, 204); word-break: break-all; height: 30.5px;" data-cache-id="68c0326c-c450-4d86-8147-b592a501015b" _="4SvozJZ5o0PqMkRn"><p data-cache-id="6353ce10-6ad3-4b2c-a7ad-52d0a2a8e12d" _="Qtxjcq3LuriUk8l5"><span class="bse-element" bse-left="[" bse-right="]" bse="%7B%22type%22%3A%22input%22%2C%22name%22%3A%22%E6%82%A3%E8%80%85%E8%B7%8C%E5%80%92%E9%A3%8E%E9%99%A9%22%2C%22id%22%3A%22%E6%82%A3%E8%80%85%E8%B7%8C%E5%80%92%E9%A3%8E%E9%99%A9%22%2C%22altTitle%22%3A%22%22%2C%22groupName%22%3A%22%E6%88%90%E4%BA%BA%E8%B7%8C%E5%80%92%E9%A3%8E%E9%99%A9%22%2C%22settleExpression%22%3A%22%E6%82%A3%E8%80%85%E6%9B%BE%E8%B7%8C%E5%80%92%2B%E8%B6%85%E8%BF%87%E4%B8%80%E4%B8%AA%E5%8C%BB%E5%AD%A6%E8%AF%8A%E6%96%AD%2B%E4%BD%BF%E7%94%A8%E5%8A%A9%E8%A1%8C%E5%99%A8%E5%85%B7%2B%E9%9D%99%E8%84%89%E8%BE%93%E6%B6%B2%2B%E6%AD%A5%E6%80%81%2B%E7%B2%BE%E7%A5%9E%E7%8A%B6%E6%80%81%2B%E5%88%86%22%2C%22placeholder%22%3A%22%E6%82%A3%E8%80%85%E8%B7%8C%E5%80%92%E9%A3%8E%E9%99%A9%22%7D" contenteditable="false" data-cache-id="84d71841-e0e2-4074-81a2-c61afc910472" _="3q2hP2WjYZwWxZZL"><label contenteditable="true" class="placehold-class" placeholder="æ‚£è€…è·Œå€’é£é™©">
			  æ‚£è€…æ›¾è·Œå€’è¶…è¿‡ä¸€ä¸ªåŒ»å­¦è¯Šæ–­ä½¿ç”¨åŠ©è¡Œå™¨å…·é™è„‰è¾“æ¶²æ­¥æ€0åˆ†
			</label></span>â€‹</p></td></tr><tr data-cache-id="1e9cff3b-59e9-4beb-910a-3418281b1fd5" _="1m3-oNMJGMQQ8i_X"><td colspan="1" rowspan="1" style="border: 1px dashed rgb(204, 204, 204); word-break: break-all; vertical-align: middle; height: 78.9688px;" data-cache-id="e8ed439f-6094-4bd2-b092-46fea71a7fad" valign="middle" align="center" _="lLKftLkmtT_j4bje"><p _="IsdPA20GfA7ibqGw"><br></p><p data-cache-id="7f6ecfd0-2cd4-4185-87bd-4bc8c40011cb" _="4XHdIg8lAtgsY4FI">ç»“æœè§£è¯»</p><p _="jiCBKm9qUg-Io1Xa"><br></p></td><td colspan="2" rowspan="1" style="border: 1px dashed rgb(204, 204, 204); word-break: break-all; height: 78.9688px;" data-cache-id="7769958e-52cc-4b72-9245-cb1ebb1e848c" _="JbyWxmqt7_q4JZQx"><p _="5D88frIp2aK5N6E0"><br></p><p data-cache-id="23d8164c-8427-486b-aac9-e27f0d830caa" _="pTDXsZmGSB7SXNpW">&lt;25åˆ† ä½é£é™©</p><p data-cache-id="23d8164c-8427-486b-aac9-e27f0d830caa" _="u45-dT2cZrLC9JWU">20-45åˆ† ä¸­é£é™©</p><p data-cache-id="23d8164c-8427-486b-aac9-e27f0d830caa" _="0lJD1aPaX04HUUX3">â‰¥&nbsp;45åˆ† é«˜é£é™©</p></td></tr></tbody></table><p data-cache-id="ddd102c3-7dd0-4807-9e96-24a77082eb74" _="gKe-TzCMBEDULDqO"><br data-cache-id="1fb7da94-f67a-410d-9454-04d594741309"></p><p _="rELVgoJRShHr0fW_"><br></p><p _="hbJeHSTzsBEAI-Dd"><br></p><p _="jKGCaPQVDmVEcaq_"><br></p>
		</html>
		</data>
		</xml>`

      this._instance.execCommand(
        'insertxmlorhtmlmodulestring',
        { contentXmlOrHtmlString: strings, paper: 'A6' },
        payload => {
          console.log(payload)
        }
      )
    },

    // è·å–xmlæˆ–htmlå­—ç¬¦ä¸²
    getXmlorhtmlString() {
      this._instance.execCommand(
        'getexportxmlorhtmlstring',
        { version: '4.0', htmlstring: true }, // å®šä¹‰æ•°æ®ç‰ˆæœ¬å·
        payload => {
          console.log(payload)
        }
      )
    },

    // æ’å…¥æ®µè½å…ƒç´ 
    handlerChangeSection() {
      const strings = `<p _="9SdoZKx8hvJ-ONWo">â€‹</p><p _="Ou5Sj_wf4WcPPIJi">â€‹æ‰‹æœ¯åç§°<span class="bse-element" bse-left="[" bse-right="]" contenteditable="false" bse="%7B%22bse_surgeryList%22%3A%5B%7B%22id%22%3A%220%22%2C%22type%22%3A%22%E7%B1%BB%E5%9E%8B%22%2C%22code%22%3A%22%E6%89%8B%E6%9C%AF%E7%BC%96%E7%A0%8101%22%2C%22name%22%3A%22%E7%AC%AC%E4%B8%80%E5%8F%B0%E6%89%8B%E6%9C%AF111%22%2C%22date%22%3A%222016-05-04%22%2C%22surgeryLevel%22%3A%22%E6%89%8B%E6%9C%AF%E7%AD%89%E7%BA%A7%22%2C%22doctor%22%3A%22%E6%9C%AF%E8%80%85%22%2C%22firstAssistant%22%3A%22%E4%B8%80%E5%8A%A9%22%2C%22secondAssistant%22%3A%22%E4%BA%8C%E5%8A%A9%22%2C%22incisionLevel%22%3A%22%E5%88%87%E5%8F%A3%E7%AD%89%E7%BA%A7%22%2C%22healingLevel%22%3A%22%E6%84%88%E5%90%88%E7%AD%89%E7%BA%A7%22%2C%22anesthesia%22%3A%22%E9%BA%BB%E9%86%89%E6%96%B9%E6%B3%95%22%2C%22anesthesiologist%22%3A%22%E9%BA%BB%E9%86%89%E5%8C%BB%E5%B8%88%22%7D%5D%2C%22type%22%3A%22surgery%22%2C%22name%22%3A%22%E6%89%8B%E6%9C%AF%E6%8E%A7%E4%BB%B6id%22%2C%22id%22%3A%22%E6%89%8B%E6%9C%AF%E6%8E%A7%E4%BB%B6id%22%2C%22fieldName%22%3A%22name%22%2C%22elSrc%22%3A%7B%7D%7D"><label contenteditable="true" class="placehold-class" placeholder="">
                    ç¬¬ä¸€å°æ‰‹æœ¯111
                  </label></span>â€‹<br></p><p _="VYhnOtnoxpn7GFcQ">æ‰‹æœ¯ç¼–ç <span class="bse-element" bse-left="[" bse-right="]" contenteditable="false" bse="%7B%22type%22%3A%22surgery%22%2C%22fieldName%22%3A%22code%22%2C%22name%22%3A%22%E6%89%8B%E6%9C%AF%E6%8E%A7%E4%BB%B6id%22%2C%22id%22%3A%22%E6%89%8B%E6%9C%AF%E6%8E%A7%E4%BB%B6id%22%2C%22bse_surgeryList%22%3A%5B%7B%22id%22%3A%220%22%2C%22type%22%3A%22%E7%B1%BB%E5%9E%8B%22%2C%22code%22%3A%22%E6%89%8B%E6%9C%AF%E7%BC%96%E7%A0%8101%22%2C%22name%22%3A%22%E7%AC%AC%E4%B8%80%E5%8F%B0%E6%89%8B%E6%9C%AF%22%2C%22date%22%3A%222016-05-04%22%2C%22surgeryLevel%22%3A%22%E6%89%8B%E6%9C%AF%E7%AD%89%E7%BA%A7%22%2C%22doctor%22%3A%22%E6%9C%AF%E8%80%85%22%2C%22firstAssistant%22%3A%22%E4%B8%80%E5%8A%A9%22%2C%22secondAssistant%22%3A%22%E4%BA%8C%E5%8A%A9%22%2C%22incisionLevel%22%3A%22%E5%88%87%E5%8F%A3%E7%AD%89%E7%BA%A7%22%2C%22healingLevel%22%3A%22%E6%84%88%E5%90%88%E7%AD%89%E7%BA%A7%22%2C%22anesthesia%22%3A%22%E9%BA%BB%E9%86%89%E6%96%B9%E6%B3%95%22%2C%22anesthesiologist%22%3A%22%E9%BA%BB%E9%86%89%E5%8C%BB%E5%B8%88%22%7D%5D%7D"><label style="display: inline-block;" contenteditable="true" class="placehold-class" placeholder="">æ‰‹æœ¯ç¼–ç 01</label></span>â€‹</p><p _="B0eJoJz9js1DRKU-">â€‹æ‰‹æœ¯ç±»å‹<span class="bse-element" bse-left="[" bse-right="]" contenteditable="false" bse="%7B%22type%22%3A%22surgery%22%2C%22name%22%3A%22%E6%89%8B%E6%9C%AF%E6%8E%A7%E4%BB%B6id%22%2C%22id%22%3A%22%E6%89%8B%E6%9C%AF%E6%8E%A7%E4%BB%B6id%22%2C%22fieldName%22%3A%22type%22%7D"><label style="display: inline-block;" contenteditable="true" class="placehold-class" placeholder=""></label></span>â€‹</p><br><p _="VfdNVdLil0u6UWv6"></p>
                  
                  
                  `

      this._instance.execCommand(
        'inserthtmlorxmlstringbyparams',
        {
          åˆæ­¥è¯Šæ–­å…ƒç´ : [
            {
              id: 1,
              parentId: 0,
              bse_code: 1,
              bse_type: 'ä¸­åŒ»è¯Šæ–­',
              bse_categery: 'å…¥é™¢è¯Šæ–­',
              bse_disease_name: 'è‚¾è™š',
              bse_disease_name_desc: 'ç—…æè¿°',
              bse_symptom_name: 'ç—‡å',
              bse_symptom_name_desc: 'ç—‡æè¿°',
              bse_diagnose_name: '',
              bse_diagnose_name_desc: '',
              open: true,
              checked: true
            },
            {
              id: 11,
              parentId: 1,
              bse_code: 12,
              bse_type: 'ä¸­åŒ»è¯Šæ–­',
              bse_categery: 'å…¥é™¢è¯Šæ–­',
              bse_disease_name: 'å­ç—…',
              bse_disease_name_desc: 'ç—…æè¿°',
              bse_symptom_name: 'ä¸€æœŸç—‡å',
              bse_symptom_name_desc: 'ç—‡æè¿°',
              bse_diagnose_name: '',
              bse_diagnose_name_desc: '',
              open: true,
              checked: true
            },
            {
              id: 111,
              parentId: 11,
              bse_code: 123,
              bse_type: 'ä¸­åŒ»è¯Šæ–­',
              bse_categery: 'å…¥é™¢è¯Šæ–­',
              bse_disease_name: 'å­å­ç—…',
              bse_disease_name_desc: 'ç—…æè¿°',
              bse_symptom_name: 'äºŒæœŸç—‡å',
              bse_symptom_name_desc: 'ç—‡æè¿°',
              bse_diagnose_name: '',
              bse_diagnose_name_desc: '',
              open: true,
              checked: true
            }
          ],
          å¹´é¾„å…ƒç´ : 28,
          å§“åå…ƒç´ : 'è‹è‹è‹'
        },
        {
          contentXmlOrHtmlString: strings,
          paper: 'A4',
          pagesizes: {
            w: 210, // æ•´ä¸ªå®½
            h: 697, // æ•´ä¸ªé«˜
            pt: 20, // é¡µè¾¹è· ä¸Š
            pb: 15, // é¡µè¾¹è· ä¸‹
            pl: 15, // é¡µè¾¹è· å·¦
            pr: 15, // é¡µè¾¹è· å³
            hh: 6.6, // é¡µçœ‰
            fh: 14 // é¡µè„š
          }
        },
        payload => {
          console.log(payload)
        }
      )
    },

    // åˆ‡æ¢ç¼–è¾‘å™¨æ¨¡å¼
    switchEditorMode(name) {
      this._instance.execCommand(
        'mode',
        name, // å®šä¹‰ç¼–è¾‘å™¨æ¨¡å¼
        payload => {
          console.log(payload)
        }
      )
    },
    switchEditorModePaper(name) {
      this._instance.execCommand(
        'paper',
        { paper: name }, // å®šä¹‰ç¼–è¾‘å™¨æ¨¡å¼
        payload => {
          console.log(payload)
        }
      )
    },

    // æ›´æ–°æ•°æ®å†…å®¹
    updateApiDate() {
      this._instance.execCommand(
        'updatedocumentbyparams',
        {
          'h1': 'è‹è‹è‹',
          'h2': 28
        },
        payload => {
          console.log(payload)
        }
      )
    }
  }
}
</script>

<style scoped>
.bse-wrap {
  display: flex;
}
.bse-wrap .left-wrap,
.bse-wrap .right-wrap {
  width: 20%;
  display: flex;
  flex-direction: column;
}
.bse-wrap .center-wrap {
  flex: 1;
}
.bse-wrap .right-wrap .right-top,
.bse-wrap .right-wrap .right-bottom,
.bse-wrap .left-wrap .left-top {
  flex: 1;
}
ul {
  background: white;
}
ul li {
  border-bottom: 1px solid #efefef;
  line-height: 40px;
  padding: 0 20px;
  cursor: pointer;
}
.input-with-select {
  margin: 20px 0;
}
/deep/ .el-tabs__content,
/deep/ .el-tab-pane {
  height: 500px;
}
</style>

